<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마일리지 등급안내</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="css/rating_guide.css">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
</head>
<body>
    
    <div id="app">
        <header>
            <a href="javascript:history.back();" class="back_btn"><img src="./images/left-arrow.png" alt="뒤로가기버튼"></a>
            <h1>마일리지 등급안내</h1>
            <a href="https://www.toyotakoreaapp.co.kr/main.do" class="hom_btn"><img src="./images/logo.png" alt="토요타로고"></a>
            <button class="menu_btn"><img src="./images/menu_bar.png" alt="메뉴 버튼"></button>
        </header>

        <section>
            <div class="benefits_by_tier">
                <h2>MILEAGE</h2>
                <p>등급 별 혜택안내</p>
            </div>
            <div class="container">
                <ul class="slider">
                    <li class="background_platinum">
                        <p class="mileage_pass platinum">MILEAGE PASS</p>
                        <figure class="toyota_mark"><img src="./images/toyota_mark_platinum.png" alt="토요타 마크"></figure>
                        <p class="tier">PLATINUM</p>
                    </li>
                    <li class="background_gold reduction">
                        <p class="mileage_pass gold">MILEAGE PASS</p>
                        <figure class="toyota_mark"><img src="./images/toyota_mark_gold.png" alt="토요타 마크"></figure>
                        <p class="tier">GOLD</p>
                    </li>
                    <li class="background_silver reduction">
                        <p class="mileage_pass silver">MILEAGE PASS</p>
                        <figure class="toyota_mark"><img src="./images/toyota_mark_silver.png" alt="토요타 마크"></figure>
                        <p class="tier">SILVER</p>
                    </li>
                    <li class="background_bronze reduction">
                        <p class="mileage_pass bronze">MILEAGE PASS</p>
                        <figure class="toyota_mark"><img src="./images/toyota_mark_bronze.png" alt="토요타 마크"></figure>
                        <p class="tier">BRONZE</p>
                    </li>
                    <li class="background_family reduction">
                        <p class="mileage_pass family">MILEAGE PASS</p>
                        <figure class="toyota_mark"><img src="./images/toyota_mark_family.png" alt="토요타 마크"></figure>
                        <p class="tier">FAMILY</p>
                    </li>
                </ul>
            </div>

            <div class="dl_container">
                <dl class="platinum_benefit">
                    <dt>50만 마일리지 이상</dt>
                    <dd><p>서비스 입고 시<br/>적립율 혜택</p><p>표준적립금<br/>X<br/><span>130%</span></p></dd>
                </dl>
                <dl class="gold_benefit benefit">
                    <dt>30만 마일리지 이상</dt>
                    <dd><p>서비스 입고 시<br/>적립율 혜택</p><p>표준적립금<br/>X<br/><span>120%</span></p></dd>
                </dl>
                <dl class="silver_benefit benefit">
                    <dt>10만 마일리지 이상</dt>
                    <dd><p>서비스 입고 시<br/>적립율 혜택</p><p>표준적립금<br/>X<br/><span>110%</span></p></dd>
                </dl>
                <dl class="bronze_benefit benefit">
                    <dt>5만 마일리지 이상</dt>
                    <dd><p>서비스 입고 시<br/>적립율 혜택</p><p>표준적립금<br/>X<br/><span>105%</span></p></dd>
                </dl>
                <dl class="family_benefit benefit">
                    <dt>기본등급</dt>
                    <dd><p>서비스 입고 시<br/>적립율 혜택</p><p>표준적립금</p></dd>
                </dl>
            </div>

            <div class="selection_criteria">
                <h3>선정기준</h3>
                <p>• 매년 1월 2일에 잔여 마일리지 기준이 산정 됩니다.<br/> &nbsp; &nbsp; (적립 마일리지 - 만기 마일리지)<br/>• 사용으로 인한 마일리지 차감은 등급 정산에 반영되지 않습니다.<br/>• 신차의 구매 유형이 렌터카인 경우 마일리지 적립 대상에서 제외됩니다.</p>
            </div>

            <figure class="background_img"></figure>
        </section>

        <footer>
            <a href="###">확인</a>
        </footer>
    </div>

    <!-- script -->

    <script>

        let slider = document.querySelector(".container")
        let innerSlider = document.querySelector(".slider")
        let pressed = false
        let startx
        let x

        slider.addEventListener("touchstart", e => {
          pressed = true
          startx = e.offsetX - innerSlider.offsetLeft
          slider.style.cursor = "grabbing"
          console.log('aaa')
        })

        slider.addEventListener("touchend", () => {
          slider.style.cursor = "grab"
        })

        window.addEventListener("touchend", () => {
          pressed = false
          console.log('ccc')
        })

        slider.addEventListener("touchmove", e => {
          if (!pressed) return
          e.preventDefault()
          x = e.offsetX
        
          innerSlider.style.left = `${x - startx}px`
          checkboundary()
          console.log('bbb')
        })

        function checkboundary() {
          let outer = slider.getBoundingClientRect()
          let inner = innerSlider.getBoundingClientRect()
        
          if (parseInt(innerSlider.style.left) > 0) {
            innerSlider.style.left = "0px"
          } else if (inner.right < outer.right) {
            innerSlider.style.left = `-${inner.width - outer.width}px`
          }
        }
    </script>
</body>
</html>